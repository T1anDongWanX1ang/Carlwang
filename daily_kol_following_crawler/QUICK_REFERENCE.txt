================================================================================
  KOL Following çˆ¬å–æœåŠ¡ - å¿«é€Ÿå‚è€ƒæŒ‡å—
================================================================================

ğŸ“ ç›®å½•ä½ç½®:
  /Users/qmk/Documents/QC/twitter/Carlwang/daily_kol_following_crawler

ğŸš€ å¸¸ç”¨å‘½ä»¤:

  # å¯åŠ¨æœåŠ¡ï¼ˆæ¯å¤©è¿è¡Œä¸€æ¬¡ï¼Œæ¯æ¬¡å¤„ç†10ä¸ªKOLï¼‰
  ./start_service_kol_following.sh start

  # è‡ªå®šä¹‰é…ç½®å¯åŠ¨ï¼ˆæ¯12å°æ—¶ï¼Œå¤„ç†20ä¸ªKOLï¼‰
  ./start_service_kol_following.sh start 720 20

  # åœæ­¢æœåŠ¡
  ./start_service_kol_following.sh stop

  # é‡å¯æœåŠ¡
  ./start_service_kol_following.sh restart

  # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
  ./start_service_kol_following.sh status

  # æ‰§è¡Œå•æ¬¡çˆ¬å–
  ./start_service_kol_following.sh once

  # æ‰§è¡Œå•æ¬¡çˆ¬å–ï¼ˆå¤„ç†50ä¸ªKOLï¼‰
  ./start_service_kol_following.sh once 50

  # æŸ¥çœ‹æ—¥å¿—ï¼ˆæœ€æ–°100è¡Œï¼‰
  ./start_service_kol_following.sh logs 100

  # å®æ—¶æŸ¥çœ‹æ—¥å¿—
  tail -f service_kol_following.log

  # æŸ¥çœ‹ç›‘æ§çŠ¶æ€
  ./start_service_kol_following.sh monitor

ğŸ“Š çŠ¶æ€ç›‘æ§:

  # æŸ¥çœ‹è¯¦ç»†çŠ¶æ€ï¼ˆè¿›ç¨‹ã€CPUã€å†…å­˜ï¼‰
  ./check_status.sh

  # æŸ¥çœ‹æˆæœ¬ç»Ÿè®¡
  ./monitor_daily_cost.sh

ğŸ—‚ï¸ ç¼“å­˜ç®¡ç†:

  # æŸ¥çœ‹ç¼“å­˜çŠ¶æ€
  cd /Users/qmk/Documents/QC/twitter/Carlwang
  python daily_kol_following_crawler/fetch_kol_followings_new.py --cache-status

  # æ¸…ç†æ‰€æœ‰ç¼“å­˜
  python daily_kol_following_crawler/fetch_kol_followings_new.py --clear-cache

  # ä»ç¼“å­˜æ¢å¤ï¼ˆåªå…¥åº“ç¼“å­˜æ•°æ®ï¼Œä¸è°ƒç”¨APIï¼‰
  python daily_kol_following_crawler/fetch_kol_followings_new.py --resume

ğŸ”§ é«˜çº§ç”¨æ³•:

  # æµ‹è¯•æ¨¡å¼ï¼ˆä¸è°ƒç”¨APIï¼Œä¸å…¥åº“ï¼‰
  python daily_kol_following_crawler/fetch_kol_followings_new.py --test

  # æ¨¡æ‹Ÿè¿è¡Œï¼ˆè°ƒç”¨APIä½†ä¸å…¥åº“ï¼‰
  python daily_kol_following_crawler/fetch_kol_followings_new.py --dry-run --limit 1

  # æ­£å¼è¿è¡Œï¼ˆå¤„ç†10ä¸ªKOLï¼‰
  python daily_kol_following_crawler/fetch_kol_followings_new.py --limit 10

  # è‡ªå®šä¹‰APIé—´éš”ï¼ˆ1ç§’ï¼‰
  python daily_kol_following_crawler/fetch_kol_followings_new.py --limit 10 --sleep 1.0

âš™ï¸ é»˜è®¤é…ç½®:

  è¿è¡Œé—´éš”: 1440 åˆ†é’Ÿï¼ˆ24å°æ—¶ï¼Œæ¯å¤©1æ¬¡ï¼‰
  æ¯æ¬¡å¤„ç†: 10 ä¸ª KOL
  APIé—´éš”:  0.5 ç§’
  æ•°æ®æº:   twitter_list_members_seed è¡¨
  ç›®æ ‡è¡¨:   twitter_kol_all è¡¨
  API Key:  new1_038536908c7f4960812ee7d601f620a1
  ç¼“å­˜ç›®å½•: .kol_cache_new/

ğŸ“ é‡è¦æ–‡ä»¶:

  fetch_kol_followings_new.py              # æ ¸å¿ƒçˆ¬å–è„šæœ¬
  start_service_kol_following.sh           # æœåŠ¡ç®¡ç†è„šæœ¬
  service_kol_following_monitor.sh         # ç›‘æ§è„šæœ¬ï¼ˆcronè‡ªåŠ¨è¿è¡Œï¼‰
  check_status.sh                          # çŠ¶æ€æ£€æŸ¥è„šæœ¬
  monitor_daily_cost.sh                    # æˆæœ¬ç»Ÿè®¡è„šæœ¬
  service_kol_following.log                # æœåŠ¡æ—¥å¿—
  monitor_kol_following.log                # ç›‘æ§æ—¥å¿—
  twitter-crawler-kol-following.pid        # è¿›ç¨‹PIDæ–‡ä»¶
  .kol_cache_new/progress.json             # æ–­ç‚¹ç»­ä¼ è¿›åº¦
  README.md                                # å®Œæ•´æ–‡æ¡£

ğŸ” æ•…éšœæ’æŸ¥:

  1. æœåŠ¡æ— æ³•å¯åŠ¨
     - æ£€æŸ¥æ˜¯å¦å·²æœ‰æœåŠ¡è¿è¡Œ: ./check_status.sh
     - æŸ¥çœ‹æ—¥å¿—: ./start_service_kol_following.sh logs 50
     - æ£€æŸ¥Pythonè„šæœ¬æ˜¯å¦å­˜åœ¨: ls -l fetch_kol_followings_new.py

  2. APIè°ƒç”¨å¤±è´¥
     - æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®
     - æŸ¥çœ‹æ—¥å¿—ä¸­çš„APIé”™è¯¯ä¿¡æ¯
     - æ£€æŸ¥ç½‘ç»œè¿æ¥

  3. æ•°æ®æœªå…¥åº“
     - æ£€æŸ¥æ•°æ®åº“è¿æ¥
     - æŸ¥çœ‹æ—¥å¿—ä¸­çš„æ•°æ®åº“é”™è¯¯
     - ç¡®è®¤ç›®æ ‡è¡¨ twitter_kol_all å­˜åœ¨

  4. ç¼“å­˜å ç”¨ç©ºé—´è¿‡å¤§
     - æŸ¥çœ‹ç¼“å­˜çŠ¶æ€: --cache-status
     - æ¸…ç†ç¼“å­˜: --clear-cache

ğŸ’¡ æœ€ä½³å®è·µ:

  1. é¦–æ¬¡è¿è¡Œå»ºè®®å…ˆæµ‹è¯•:
     ./start_service_kol_following.sh once 5  # åªå¤„ç†5ä¸ªKOL

  2. å®šæœŸæŸ¥çœ‹æˆæœ¬ç»Ÿè®¡:
     ./monitor_daily_cost.sh

  3. ç›‘æ§æœåŠ¡çŠ¶æ€:
     ./check_status.sh

  4. å®šæœŸå¤‡ä»½è¿›åº¦æ–‡ä»¶:
     cp .kol_cache_new/progress.json .kol_cache_new/progress.json.bak

  5. æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´è¿è¡Œé¢‘ç‡:
     - æ¯å¤©1æ¬¡: 1440 åˆ†é’Ÿï¼ˆé»˜è®¤ï¼‰
     - æ¯12å°æ—¶: 720 åˆ†é’Ÿ
     - æ¯å‘¨1æ¬¡: 10080 åˆ†é’Ÿ

ğŸ“ å¿«é€Ÿæ”¯æŒå‘½ä»¤:

  # ä¸€é”®è¯Šæ–­ï¼ˆè¿è¡Œæ‰€æœ‰æ£€æŸ¥ï¼‰
  echo "=== æœåŠ¡çŠ¶æ€ ===" && \
  ./check_status.sh && \
  echo "=== æˆæœ¬ç»Ÿè®¡ ===" && \
  ./monitor_daily_cost.sh && \
  echo "=== æœ€æ–°æ—¥å¿— ===" && \
  tail -n 20 service_kol_following.log

ğŸŒŸ æ•°æ®æµå‘:

  twitter_list_members_seed (seedè¡¨)
      â†“
  TwitterAPI (è·å– following)
      â†“
  .kol_cache_new/ (ç¼“å­˜)
      â†“
  twitter_kol_all (å…¨é‡KOLè¡¨)

================================================================================
æ›´æ–°æ—¶é—´: 2024-12-26
ç‰ˆæœ¬: 1.0
================================================================================
