# Epic 4 三大核心指标与实时分析

**Epic目标**: 实现sentiment_index、popularity、summary三大贯穿性核心指标，建立实时传播分析和多时间粒度的数据计算能力，为所有7个实体提供统一的分析维度。

## Story 4.1 Sentiment_Index核心指标引擎

作为指标工程师，
我需要建立sentiment_index在所有7个实体层级的统一计算引擎，
以便为用户提供一致的情感分析视角。

### Acceptance Criteria
1. 设计sentiment_index的多层级计算算法
2. 实现Tweet级别的基础情感指数计算
3. 实现KOL/User级别的聚合情感指数
4. 实现Project/Topic级别的社区情感指数
5. 实现Narrative/Marco级别的宏观情感指数
6. 建立情感指数的标准化范围（0-100）
7. 提供所有实体层级的sentiment_index API查询

## Story 4.2 Popularity热度指标体系

作为数据分析师，
我需要建立多维度的popularity指标计算，
以便衡量不同实体在市场中的关注度和影响力。

### Acceptance Criteria
1. 设计popularity指标的多维度计算模型
2. 集成推文数量、互动数据和传播速度
3. 实现Topic热度的实时计算和更新
4. 实现Project热度的社区活跃度计算
5. 实现Narrative热度的市场关注度计算
6. 建立热度指标的归一化和排名机制
7. 提供热度趋势分析和预测功能

## Story 4.3 AI Summary智能总结系统

作为内容分析专家，
我需要为每个实体生成高质量的AI总结，
以便用户快速理解关键信息和观点。

### Acceptance Criteria
1. 建立多层级内容总结的LLM prompt工程
2. 实现KOL观点的智能总结生成
3. 实现Project社区讨论的总结提取
4. 实现Narrative赛道观点的总结聚合
5. 实现Marco市场事件的总结分析
6. 建立总结质量评估和优化机制
7. 提供总结内容的多语言支持

## Story 4.4 实时传播分析引擎

作为实时分析师，
我需要建立话题和内容的实时传播追踪能力，
以便捕捉市场情绪的快速变化和传播模式。

### Acceptance Criteria
1. 实现5分钟粒度的传播速度计算
2. 实现1小时和4小时的传播范围分析
3. 建立传播路径的图网络分析
4. 实现病毒式传播的自动检测
5. 计算传播影响力的衰减模型
6. 建立传播异常的实时告警
7. 提供传播分析的可视化数据接口

## Story 4.5 多时间粒度数据计算

作为时序分析专家，
我需要建立多时间维度的数据计算和聚合能力，
以便支持不同业务场景的时间序列分析需求。

### Acceptance Criteria
1. 建立分钟、小时、天、周、月的时间分片策略
2. 实现核心指标的多时间粒度聚合计算
3. 建立时间窗口的滑动计算机制
4. 实现历史数据的预聚合优化
5. 建立时间序列数据的压缩存储
6. 提供时间范围查询的高性能API
7. 实现时间序列数据的异常检测

## Story 4.6 指标数据质量保障

作为质量工程师，
我需要建立三大核心指标的质量监控和保障体系，
以便确保指标数据的准确性和可靠性。

### Acceptance Criteria
1. 建立指标计算的准确性验证机制
2. 实现指标数据的一致性检查
3. 建立指标异常值的自动检测
4. 实现指标计算的可审计追踪
5. 建立指标质量的实时监控
6. 实现指标数据的自动修复功能
7. 提供指标质量报告和分析
